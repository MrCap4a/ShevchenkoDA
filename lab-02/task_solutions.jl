using DataStructures

# =================================================================
# ЗАДАЧА 1 — Проверка правильности скобок (stack)
# =================================================================
# Ассимптотика: O(n)
# Что происходит:
#   1. Идём по строке
#   2. Открывающие скобки кладём в стек
#   3. При закрывающей — сравниваем с вершиной
#   4. Если что-то не совпало — скобки не сбалансированы
# =================================================================
function is_balanced(s::String)
    stack = Char[]   # стек на массиве — операции O(1)
    pairs = Dict(')' => '(', ']' => '[', '}' => '{')

    for c in s
        if c in "([{"
            push!(stack, c)
        elseif c in ")]}"
            if isempty(stack) || pop!(stack) != pairs[c]
                return false
            end
        end
    end

    return isempty(stack)
end


# =================================================================
# ЗАДАЧА 2 — Симуляция очереди печати (deque)
# =================================================================
# Ассимптотика: O(n)
# Что происходит:
#   1. Добавляем все задания в deque
#   2. Пока не пуст — достаём по одному с начала
# =================================================================
function simulate_printer(jobs)
    queue = Deque(jobs)

    while !isempty(queue)
        job = popfirst!(queue)   # O(1)
        println("Печать: $job")
    end
end


# =================================================================
# ЗАДАЧА 3 — Палиндром через deque
# =================================================================
# Ассимптотика: O(n)
# Что происходит:
#   1. Записываем строку в deque
#   2. Сравниваем первый и последний символы
#   3. Если не совпали — не палиндром
# =================================================================
function is_palindrome(s::String)
    dq = Deque(collect(s))

    while length(dq) > 1
        if popfirst!(dq) != pop!(dq)
            return false
        end
    end

    return true
end
